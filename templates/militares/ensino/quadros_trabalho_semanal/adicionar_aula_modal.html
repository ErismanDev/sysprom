<div class="modal-header bg-primary text-white">
    <h5 class="modal-title">
        <i class="fas fa-plus me-2"></i>
        Adicionar Aula ao Quadro
    </h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
</div>
<form method="post" id="formAulaQuadro" action="{% url 'militares:ensino_quadro_trabalho_semanal_adicionar_aula' quadro_id=quadro.pk %}">
    {% csrf_token %}
    <div class="modal-body">
        {{ form.quadro }}
        
        <div class="row mb-3">
            <div class="col-md-12">
                <label for="{{ form.tipo_atividade.id_for_label }}" class="form-label">
                    {{ form.tipo_atividade.label }} <span class="text-danger">*</span>
                </label>
                {{ form.tipo_atividade }}
                {% if form.tipo_atividade.errors %}
                <div class="text-danger small">{{ form.tipo_atividade.errors }}</div>
                {% endif %}
            </div>
        </div>
        
        <div id="campos-aula-modal" class="campos-tipo-atividade">
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="{{ form.disciplina.id_for_label }}" class="form-label">
                        {{ form.disciplina.label }} <span class="text-danger">*</span>
                    </label>
                    {{ form.disciplina }}
                    {% if form.disciplina.errors %}
                    <div class="text-danger small">{{ form.disciplina.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-6" id="campo-instrutor-wrapper">
                    <label for="id_instrutor_unificado" class="form-label">
                        Instrutor
                    </label>
                    <div id="campo-instrutor-militar-wrapper">
                    {{ form.instrutor_militar }}
                    {% if form.instrutor_militar.errors %}
                    <div class="text-danger small">{{ form.instrutor_militar.errors }}</div>
                    {% endif %}
                </div>
                    <div id="campo-instrutor-externo-wrapper" style="display: none;">
                    {{ form.instrutor_externo }}
                    {% if form.instrutor_externo.errors %}
                    <div class="text-danger small">{{ form.instrutor_externo.errors }}</div>
                    {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <div id="campos-outros-modal" class="campos-tipo-atividade" style="display: none;">
            <div class="row mb-3">
                <div class="col-md-12">
                    <label for="{{ form.descricao.id_for_label }}" class="form-label">
                        {{ form.descricao.label }} <span class="text-danger">*</span>
                    </label>
                    {{ form.descricao }}
                    <small class="form-text text-muted">Ex: Intervalo para Almoço, Horário Livre, Reunião de Coordenação</small>
                    {% if form.descricao.errors %}
                    <div class="text-danger small">{{ form.descricao.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <div class="row mb-3">
            <div class="col-md-4">
                <label for="{{ form.dia_semana.id_for_label }}" class="form-label">
                    {{ form.dia_semana.label }} <span class="text-danger">*</span>
                </label>
                {{ form.dia_semana }}
                {% if form.dia_semana.errors %}
                <div class="text-danger small">{{ form.dia_semana.errors }}</div>
                {% endif %}
            </div>
            <div class="col-md-4">
                <label for="{{ form.data.id_for_label }}" class="form-label">
                    {{ form.data.label }} <span class="text-danger">*</span>
                </label>
                {{ form.data }}
                {% if form.data.errors %}
                <div class="text-danger small">{{ form.data.errors }}</div>
                {% endif %}
            </div>
            <div class="col-md-4">
                <label for="{{ form.ordem.id_for_label }}" class="form-label">
                    {{ form.ordem.label }}
                </label>
                {{ form.ordem }}
                <small class="form-text text-muted">Ordem no mesmo horário</small>
                {% if form.ordem.errors %}
                <div class="text-danger small">{{ form.ordem.errors }}</div>
                {% endif %}
            </div>
        </div>
        
        <div class="row mb-3">
            <div class="col-md-4">
                <label for="{{ form.hora_inicio.id_for_label }}" class="form-label">
                    {{ form.hora_inicio.label }} <span class="text-danger">*</span>
                </label>
                {{ form.hora_inicio }}
                {% if form.hora_inicio.errors %}
                <div class="text-danger small">{{ form.hora_inicio.errors }}</div>
                {% endif %}
            </div>
            <div class="col-md-4">
                <label for="{{ form.horas_aula.id_for_label }}" class="form-label">
                    {{ form.horas_aula.label }}
                </label>
                {{ form.horas_aula }}
                <small class="form-text text-muted" id="horas-aula-help">Informe a quantidade de horas/aula (o sistema calculará a hora de término automaticamente)</small>
                <div id="horas-aula-info" class="mt-1" style="display: none;">
                    <small class="text-info"><strong id="horas-aula-texto"></strong></small>
                </div>
                {% if form.horas_aula.errors %}
                <div class="text-danger small">{{ form.horas_aula.errors }}</div>
                {% endif %}
            </div>
            <div class="col-md-4">
                <label for="{{ form.hora_fim.id_for_label }}" class="form-label">
                    {{ form.hora_fim.label }} <span class="text-danger">*</span>
                </label>
                {{ form.hora_fim }}
                {% if form.hora_fim.errors %}
                <div class="text-danger small">{{ form.hora_fim.errors }}</div>
                {% endif %}
            </div>
        </div>
        
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="{{ form.carga_horaria_total.id_for_label }}" class="form-label">
                    {{ form.carga_horaria_total.label }}
                </label>
                {{ form.carga_horaria_total }}
                <small class="form-text text-muted">Ex: 18/20, 12/30</small>
                {% if form.carga_horaria_total.errors %}
                <div class="text-danger small">{{ form.carga_horaria_total.errors }}</div>
                {% endif %}
            </div>
            <div class="col-md-6">
                <label for="{{ form.observacoes.id_for_label }}" class="form-label">
                    {{ form.observacoes.label }}
                </label>
                {{ form.observacoes }}
                <small class="form-text text-muted">Ex: PROVA, À DISPOSIÇÃO DA DEIP</small>
                {% if form.observacoes.errors %}
                <div class="text-danger small">{{ form.observacoes.errors }}</div>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save me-2"></i>
            Salvar Aula
        </button>
    </div>
</form>

